package hello;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.messaging.handler.annotation.SendTo;
import org.springframework.messaging.simp.SimpMessagingTemplate;
import org.springframework.web.bind.annotation.*;

@RestController
public class ApiController extends AbstractController{


    @Autowired
    private SimpMessagingTemplate template;

    @GetMapping("/api/user/{name}")
    public UserInfo greetingGet(@PathVariable String name) throws Exception {
        UserInfo userInfo = new UserInfo();
        userInfo.setName(name);
        userInfo.setImageType("jpeg");
        userInfo.setImageBase64("/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUTExMWFRUXGBcXGBgYFhgXFxgYFxcXFhcVFxcYHSggGBolHRUVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OGhAQGisfHx8rKy0rKy0tKysrLS0tKy0tLS0tLS0rLSstLS0rLS0tLS0tLS0tLS0tLS03Kys3Ny0tK//AABEIALYBFQMBIgACEQEDEQH/xAAbAAACAgMBAAAAAAAAAAAAAAAEBQMGAAECB//EAD0QAAEDAgUCAwYFAwMCBwAAAAEAAhEDIQQFEjFBUWEicYEGE5GhsfAyQsHR4RRS8QcjYnKCFRaSssLS4v/EABoBAAMBAQEBAAAAAAAAAAAAAAABAgMEBQb/xAAoEQACAgEFAAIBAwUAAAAAAAAAAQIRAwQSITFBIlETFDJhBUJScZH/2gAMAwEAAhEDEQA/AAarBSERK7wmaU3Wc2FbsRlDHAmFUs0ycNJiy+XcHj/d6Rz4ZmLmES1J2YtwPZarUHt6pea5DoIhXixte2S2xqcU07hd4drAQ4GECxs901y7KHPIJEBKc1FcjVsa51WpvogN/EOVzkT3vbc7K04TLqXu409kudh20X22KuDTkt3TLaIfckOsjq7/AAXUtKoCleeYlwENErslH8cbXIkyv4h+qqRwjqeGAukFasQZRVDNraSvNzbpK0K/BxhMV4o4RGII3CUYZzSd7o5zCOJThbhRSCqOLebTZMalVlNvvXkAAeIn76pbhgN+1/2VF9uc8c+r7lp8LN+7iJPw29CvR0uF/wBw6LDn3+on5aDY4Ljcn026qoYv2qr1DL6rj6/psq+5y4JXpKKQyx0PaqswyHEz1+/uVYsD/qW8SHsBkW4MrzjUtgqgPYMt9vMPVgV2ROkEwJB1byB+FPWZTTe2aNTVqkgHceEADyk7914M1ysOQ+01WjA1WBBFtusHpz6Jp/Yj0TH4OqwklpiwncWHZKm4yTMEgAxBufP1Py7o/JPblrgBUGxi15BO901GXYWtq0uDDuYsLEwI4uUwBsJU0027FxAHqbypcDinNOoX4jvOy1UyqpRlzvEDAaRe3Pl/CjNTSdLR4vkBy49efkonDcqYDmlXFR2gxbfzPH31Cc4DJqI8RAJO3U+SS5bQaQALu4J+p+7ozE1XU/wkud2/T+0LzZ4dsr7HZz7QZMHbQOw/XqqhmWSVGiReOiuNNxImoZngG3kTyiqkPp2jZcOeOfeq6GkileyWOdSJO17hPc+9qwWFrbk28lX6g0vcIvKG93LpXRizZFHavSWvoY4CjDJPNykuJYH1ZGw5VoDmBgHUXVTqOLS6ASJsV1zjGEUESStiQ0wYWJNiXku2WLP8gHpeSZu17YduOqB9psMSJZdR42gA+WWPblT0dbmeLhcU5qUdkvCUmJsA0E6XgFB+1OUtDZaL8QpsWx4dqB2KjzDFF8SdlljyRSv0ADIR7u7xPmrFTzZu0QEgou1mwRTcA43WWVOb5Emy20sxaWyCgcS/UZJSHDAsdF11jsU4XAsqcZNL+C0/ssFGqsxJEJdl2I1tlHGCF62N3AzEeNyyZISSphHB0K5tZYpLiKgaCXib2j7suXJB7ltXY0rAqOAdGo/4R7MfDdI8R9Pqljs18Wm4H6dlrSL3MeVhzIK9HFpox5ZolQxbjoBc8kNF4+o8155mAdUqvfH4nE/EyFaMVL7bj6qLD5SAC6L/AEXTVAVR2HUjcD/xJ+X1RNTG6CDokmeJ2MQFNRzmoHWphx6ED6hF0CBn5O6J0OHlDvpdL6+GLd/irXhfaSiTFamaR6gl7fVpEj0J8lrN8E0+Juktds5pkO6RbfzvbsmOioSi8O+LqHEUtJIU+HoEgR9UCHOX5gwOaH7TBgTv1CPdjzSqNqtL3U9jBlzR5kXFuenkq5VpkGHCCLdCIW34gi0yPvhFiPRMF/qFpIDoLYtImHdwOIKsGXY3DYto927RWIJJFweCBPyH7LxGylw1bQ4Hf1NkWB7dRa+kdB24Ivq/7uUcK4iOvxPdVv2U9rmYim2jWgQIkyCDxeYhMcXQdSeHNdqabggcec2XBrMc/wB0OvQJ81dUDbGAt5fmhDA03UzsQ1zL3tf9kppMIJIFl5mbJOMlKAIbUcGx5LnBFDKaRMAX6pBUxZ6rrAZi5rxJK3x6hPuIVQVneTva2WkxyEhrwGkFehNzBlRsGFUvajBNDdTeP1XbkxqUbTGnxQuyvLWPaSRK0ocoxulpBnfhYlCMaQiTBYesKsOdZPm0wLF1klr4p7qnhFlzXquNuV50ZVHoGH43AtcDoISPD5YfeaXGytOSQxniHxUGd0J8TN97JTVrdH/gjoZQynBaPgneHFIMvCRZHmQeND9wp8fRMHSbLpw5YPpCDzhqT9gErzLBMEjqhsvxLqbr7FFZtU1CQs8004cdgkK8vow7SExLYKjylgaHVHmPNLs1zgXaC2B8/JdelhLZyFBGY4+mBpDoJ7Ks18eHTA1cWP1HJ7hRYrHB4I0yDzt6jyQQpwbG/Tj+Cu2EEig2kzn8vrI79+iIaC6I35Iv8RxyhcIZuCQ7zMdwfiiv6sM8MCfIc/fC1An93A+sfLyTDK8LqtvbgfKUtw9Rz9wIj9eCm+XVjT5nt243t/hCApueZM+g8iPC0udTO8hwuPMHjsleIoaKIqNkk79I+5XsTgyq2Ht9SOeO/qq7mXstpn3REf2m4v0gfws80JOnE1xOPKkUXIMxIDxoY7U1zHa2hwh25HQixB6hL8FinUXkNJ0EkETM9PUdVaq/sriRIaxgHaR+iIw3sK4aX1KgGkkwN54lxslHc3yqFJRj07KZi6BL4AN+OVZMny1ukFwLCJvuJHbY/FF4jK2e80tAcSRvNzMb7+qfZthBRpMoz+LxPBuNtuxWtGZ59nFQteR/g+XTySh1NxvCd4+iCS/gmBO8Cykw2BLoALTIO1729eVIyukELqnWVqbkNR2waRHIi3mJukuY5QWyWggj8TT+IdD3HcWToAfD4ksdImOi9L9jfaAVIoP/AAugDaxix/deVMKYZRiix4IMXHyUtcUI9oxmDcNgR5odtbSLpnlWJFajTqEXcwSbxIsfohsVhmuBgfKF5ObHtlSF0KywO2WYfDu1QduqCo4osqlpVnwzWuDTyVzRlU9pYuxrSy7SRCX4nFuqANcY7bSrLisHbskNfAnV16LrzZVFX4JA9LLSRLRCxOMODpAIK0lHUYa7Joq+T4isT42wFcfZrLmPdLgkf/i9Ii0JnlGZBuy445FGVyRoWTOsCwNslIw/+3Cmq4w1EwoNBat3JTbcRUee4hhZUkWummCxTnG5W89oQ+yEeC0AjZcCcoyIqh22kCDKXNDSXAuhrVNVqhrNRdHVVHMcxkmDDee69aGJZEikqCM8zEXa10NHdV2pWLiADqHA68nlcVtLtiD/AMXAj5qOiDNwAB0a2SNuV6MI0BM9hZxb4t+Xmu2PDhBLQfMG/S9whnVW/lEdT1+C5dXaODMb7H48rQAx1fQCLauu/pdDDGmodEAnYb3PTffogazidnT3i47RyPJNvZXKHuJrOa4gWbpjyJ1kgN/z2kEWzLcO2mwBz2h5HiAb7xwn8ukCxEppTxIFzVb0/wBym5jewk2H8lLi1oAmhWZ/yZUm8zJawXO/CKwGrT/sVtdyHUaoiQdpdwY6j4KkA8bU0wHt0EkQR4qb+fCeDHFu0qD+pBH4QCBbqOQQeWnvcEQUqZiWtaTSDmUgYxGHff3Rds9l4AkydPhIM23RRYDJg+HvJuNJEjfg94VAHVsWC0wOYHQ23g3Ai/KRZnUe1xOqWxtMkHgA8xv8E3dTaynpH4ty7p4bT6x80op4F1U02XdqvqjcCBMdP2SYEvstgwAarxIF79TtM/WVlamK+KLXfgb+KLm5jSeyc5rQbRpBgt0gT3I8klwmGLaLqridTntneYnk+qAKF7Z4N9Osac+ASRbYOi0+gSbDYciXe8LDxE/M/Feo+2WTnEU2vbd4aNrixBAPb/7Lz/OMveQ0sG245nyWGSW2ST9NYRuLa8G+S+01eiAa7TVoyG6wPG0m4vz5O9Cjs/psqsGIpODgNiBuNy1w3Fh8uVVcNRdoLXzfdvXzAtwpsoxbqVQ0nzpcIjs4ET5iU4zT4RDX2Lcyw+mpIEA3jodlBRs5OMbhI2uGwCeJG8fL4IDBYUvqNaBJcQAOplU2Sex+xlYf0TJ6ug32t8UV/VM1RKgw2X+7w9On/aBIHJ5Pkl+IwZgkW6LydTke+kFWE4nDsc8ERKndQLAC026KtUhV16pJhGYzOyGwVnGHNyQm2iwux8NgoE4sG6S4PFmoETTwrhzKyyRfXhW6xrTxzVtA04FpWLn/AEzCypYvIqlKDqlNMqLyE6xzTMOFlJTfTptW2abb20KJLgK5B8Sd0MWDYKiYvNC4+EJp7P4l27k8acTTchjnrSCCUA14034UmeY8G36qv4nEOIiRp2/W66sGn3W2IzNsyJ8PHaVXcRVJiBpHXjzlEYxwP5iUBXcBa8ei9GEEkI6bQESb3/fdYKw24E2n16IF1W/ZSPAjcft12C1EcnEtPDh8D+y6LjEMeDPH/wCT+iFe0XuPn+yibR3uPUE/KLJiDMHhS94BBEGTHhJA3F7cR6q20cY2zXSYsAQYAPAaD81XsowZgkF0GAbae5ieE1p+GzrA7cgz36+SLGPaBYR4bO/4ktIIuPC6xTqiXO0uALnC5EaX2B24Plzwq3l9QwLQB+JrryDuLG14+XVWzLaepsTDvynnTxI/NH0jbdUhCnMIc4ltiabgTBAIG48rz2Id1TBk06b2gz/tU6nmP2j6oWpmHu6r21G3Y5hP9pbV8LoPmJ9VNisI8Gm0O1D3bmT/AHNLpYD6FUBHQl5h/iDWghvBa6NR+fy809yNwa8uI2FvohMNlxaQ48BoHYDp2v8AJHlgkxtta0EwigBfaLFAgy2XFwDSXAQBEwJ+7ILMxpw7h4QS6A0je9gTx/Cmx9Nh8IhzrSYEDkmf8+iGzUkw3YDxF28iAAAByUAayHEkt0v45ggX4Mk8KPMfZ1j3lzNzMjv2cJt5z6KPA6mmdLzwAwwexI1CU+w7228RJ5BADx307kdwXJOKkqY1JrooWO9m3N8UVjB/CGtcOou0yfglrcme+oXe5qayZ948QAANg0wF6sMQBvBB5CXZjih+UD4CfOQFKhFdA5OXLKZisnLaUAu6mTJPN/nsifZTK2UT78tlxMD/AIt5I8/0Tao/UDMn76Fc0KnhvA8t0mhFgr17Agbj4pZi3Et7orL62oRZ3kpa2HtK+b1ueWLLRaAMFTEKt5rhdVQkbJ1i3lk3Sv8ArG3krdZ5TguCGgfL26CntOtOyUUGe8MtVgyzLby6So+TEBYnKKjiCFtXbDhoGyxZbMn2XZWszBi4SKqwG0q512AqtZvgvdnUNuV2yxNMyFFbBEfhCloYpzBHCMZUBEj/ACgMdiQAev17LeGKxoFx2LLjKT4rFng837qPE1iJva/w6JXiKsldkI0aE1WqCOZ6Wshnu68qNr7ntfso31tU2haCJmOEwWg9BafisdWFwHOHUH+EMXyp6bgRGnWfM2HkB+qAIarjMNIj/q+swicDgi8jwA/9LgT8ApaLHW0hrf8AsM+V5TegSG7u+I58h+iYG3Uw1oDWuhvGog9Dv5nhY10i9gdpMFQyJggf+qPoJXdJm92DzkwfIg/FIBjgsYGPuDERM2AIuI54+St+TVIDSwlzIkR+IdbH8qomHH9xiZ2A3+G3kn2VYw0yDBOnoTebS0ncxaFSYhh/qDg3Ow1StSEnSA/rDXBwcO4uovZTGtfTYdReQIOoyrDhajHNMHWx0hwNt9wR8l5vmGQ4nL8RrogvoOMhzb6AT+Fw4jqmwPWW1Q6Y8UiI/ZSVaAdTIiPX76Ks/wDmDDsYx7naHnvMrrFe1lJ9N2lwNt58/wBk74AkoYd7ngsA0N/GTEDsOpn06oPP62ksIcHEyTF2tnYd4B35Q2DzzBOYHl7nm0g6g1p2s0XesxVVuIdNNrSBtqG3SG/oSnYBeWYM1CC2vUJAPhb7r5Ni6YPxTvwkNrNG8NdRrsP9zWkwfQhCYbDWhwYQBcFoHoCJhdNfUpnwj3lMcOEuZ10n8wvtYoES1qhMPa7U0mJiNUbhzYtUF7cpXjMUJsJ6b3H3xdF4auDUJ5J0ubvBA103jjgDyddV/FYkPquiNMu7Wn6hSMcYlngF4njblC1mkAQZj74UtZ8hgjjrcE7cQR6IXE0n7zqGxsPsFIB7kGsjp37cJu+yU+z1cNYd+u88cJ9Sph7ZXyv9U07yZvj2WnQixmA94q3m2Ull4srow6XQVJjMEKjdl5+LWzxNRZTSZT/ZWuwSCbzyr9ltVh6Kh5t7NvYdTBzsj8uquaLk+i91ZPipUZMvVVzAd1iq7qTnXkrFD1C+gIMRmVu6AzHMmup3uktTHxvJQOJxOoeEr1Vi5tioO/rRFjZKsfipvyUA+u4FQOxEz9+q3UaKOK1QneyCrVDtIKnrVNViZ7/fmhXsIH3t3VoCPXBM/RZC25wW8Q+wH35oERklSsqFo/AB3M39Jv8ABQF5HmtlsiZk8pDC8LXbNxJNzFh87o7GY3wts28nSD0tLv5QOCo2/D81rHs37NCTAlo4iZJMdYAEHgSZujjWc6GkDTA2BJPnFp+arlAF7g0XvsrLQALYdadwf/l+ymUtpcYbgylDSBonUOshoPWLF3abInD1Sbars2O5b1nTsOLlKMbRc68w0WA9OO/yCjoOcGuZEDcgkyehd19bfNUpJkuLRacvzJ7S3xHTqdLvyxeQ6eJ2O6dtz4NgAmeQfwutMgnf0VLYXfhcGkhuw/5EaRfeJBJPSOqkeHO0nU0CLOOxhxDY76Wkg+itMRb88yPDY9rZaaNQfnZYE92mxQWX/wCm9FgIq1HPnoS35crjLsxeGloghv42uud/ymbzdNqeb+G8suWzuAeIN43KfAgnDey2Gpt0hgjoTJ7qepRpU7NOnpqAA8hslv8A4u42EOLR13nkhCPzMOGlwJ5kO8Prq2T4ALzAuEOJk7BwFh5tB2PVC4TMdLhrkHi8j0PI+aE943cNcByAdR9JhdMYPwDxXv1vs4fRJsAr2px4pUTVA8VQaAWxzHiAtt4hPdVXJaocZkzvtv33hSe1WKDnU6RMaBciR4ifpAFo53XGT0w1wjxD9Orf8qWA4xNXU+BBA8h9hd0cSLgX4jc+t1AHXNyd/MH1/RR0iNeqJ6wbpsC6ezGDDg7znsnbmmnZA+xTd4B3Ezzb+U7zejF4Xz2swzlkeSDpjtFYxNY6lYMqqNi6hFKnEmEtxGLaDAK8tweGSnJJsr+B1mVRjgQLlIKdCHAEQjMvrguCsGKy9pZMLt0mXJnUnLzwmSSEXuViymSJEE3WJuP8AeUEm5E/fmg6o0nzUgx1toQldwneeY2X0yAhr1ggnvXWJeO484QRqkIAJY+5++65qPm3KgbUEd1wH3QI6Luuy6JkT3UJdNlph4TAmF1Iw3H+UMwIhhAN0gG2DIjYj0UT2zUg8thd4Kpfi/H+FFiLVPKFIzn2aDWV3F8eFronqYB+U/FE+0mDqNioDZxuBuPNRnBtdUbUAkAhzm+Rv+ie4vCuxRaGuaG7kmbdo9FlPiSZcX4Bey2HdUadRJgwJ4tJRmY5fa9wucpqf0730qkAg2PB4se6eVHteJBC58jalaNkU27XucT4nde+5McADZGuxWzrwwCAd+jXEbAXmNzB4TJmV63FwG+yYD2fBbB2mT9+SuOdoiUEJH4yBq/C1waY3cBDwyZ+ndH4fE6ROqLt6xdsTHCXZvl7WO30yRbeGtPA+HwQ/v3scXadR0yP+psEA9tx6rojkTM3BosFSsZPiIJ6CJLbR52Qzt58UkX48rbFC1cWC50kTrPbVLQ4x33+CkpOk3I4gkbtiQZjutCA1rneEgO1DgkSbbzyi6rg1vvBEi7OCXWd/KiyoXkC0/hE8ef6IP2mpiW06ZgNNuz9yL+fyQAhrHUfFJEm/LSTz2lMsEdNjtB8r7EfNAVWmTw7/wBwPB69PgjKTfB0ubdLbdwhjCm1byT1uBfz78IllAteHNLu44vsUro1RB3J8kzy2vEmAYBnpA+l5+KVgeo/6ejwO1CCD5yOoPSytWNotLbqreymIFOi0m03+K59qfadtNhA3XHLJBRdifZzmOWOcDoMKmYpr2OIduFePZnNA+jqcblVnO6ralZwavH1OKCisi9DlgOEx5aVccDnmtkKn4XLCX+KwVopUGMbAhccMzxS+Ho1F+hpxDViFp4cm62u5Zc3+I9qPD6pE7/EblDVDeSDH18luq0jcieAhngm5X0gjnEPQbwOqmc7oh3GUCNgWWgsBOywlAGLla1LvV0t35QBLhyZ2OxE9JtK0CJuFBKlpO+/3SAdZa0StVBLieehsucG623Hko/fQd/v9VPozulVIIvBnfgeqaYHMGggg6Hcndp8wlAubRPe2/O6jidvvmU6AueEaz3mvEMa9rmhoMamAb/FTZ3kVAUH1sO99MgTpaS5juwHHoqnlme1KUCxb/aRIPpyrRl2b0ahBBdh39vFTPm0/dlDh9FqX2R5fi62HDRiaTmtIEVAJbfbURsbhP6mf0W09WrVawFyeyLbjXsaTUYKrCJ1Uoewj/kw7bJThjhalVztLGtmQ1wAaLAEadt5+Kylip2XuT7Kbi8xNSv7yrZhtH9ovHqijjmE+C7YiY6q1YbIKLsRUeWt93ZzRA0i0mBtvJSXNM2wtIPfTDCSYY0Rci2p0bDlQ1fSG5JCXFY5gcLeI2vaIYQD8SPgpMNiTAPSBHOmAPhcD0SGlhqlVxIDnOPZH4TBPa4jUQ6BqIMgAgO3HpZdKW1UYvll0yd4iSYja/I4PwSbPCHmoLB0g9PvkKQ4wBhayxaxpbNyYMO84F0DivG0v5jjoDsfJWmIio1yWwZkSHfKCPp8ES18ttfrx5HZA4c8OPr0CMqCCWjYn7ISsA3DUi6BAM3Ebg8gR5/RHYXCNLg25Ej69ekIXAsINo49b7qyZThdb5jYwfPr9VnklUbGXjB0mFoA2AACBzTIm1NrrjWQbGEXh8z07r5T9QpTalwXXAvw2UOptLQYCAoZfoeSbyZTrG5kXDwhJG4g6vEjJnUviukCSQ1xOIa1lolVnB42oatwdKbOLXI3C4anEwljyrdVA1Yfh8yaGjZaS/8AowdliqWvlfCFtPF8TUvczxJvt0/dCVXSI4++ilrCN/vz7qE/YX2BmDEBRkcKWrdRlAzI7qN5UkW81E9AjUrFyumlAGBSU7Lhm9zHP8LAUAMsM7oPmuH72CipPU7zIkKRnJd1XWoRB+gH0UQE39V1r2QBpzpvbb6z81yCR97Ltp++vZbB3B7z8kwDsDnFWkZa9wPYx801p5yKlqrQep/N5yN0joUwb8jcddv5XdOkZ+I6bDYJAWP3ktLGVS0EQQeQRtISw5Q0Ol7x6Akn5Qh2kiIm8W9OOyKo4Vz7kw0bk/e6X+gCsNUPibQHu2kQ50+Ii0ief5Wq1BrGiDF72vPDu/l0Kkc5rYAJA4g7ffqluYVxJ7iOnkfiEUBBTxBBjeDIjjuCs1uBJ4JNuPl2cfih2tupGsnYpgdtqDm5RWHMkbwFA1kIzDN3SYxrhwZkcWmLjnZW7IzoYTweesqrZUwyL3sfQK1YWmCIFgfuFyaqbjj4BhTcVKMw7mFAmmBZRuwLwQ8EwvnY4+XKSsVljbQbuoMyy5rmyN0C3MSW6SIKFrZi5oglbzWJY+F2K2DUGnVCcPonTZQ5XhtXi5KLZYwdk8GGo212VdAFBzgL2KxNjgg+6xWtJCirPA3Ex8+6HJ7KdwkbT3soKkXIO8WX0pBAQVy4fcrusCN7LhrbSgDGPhwPQg/BQxJlbeVtoteyBEa0uyFxCAMWwVohaQBKx6no1h3j6oMGNl1708pUAe4SDCiBUNOoVMxwdvZIZ2D991K0/wAqOmy9r91M2kdo9UWBI36GT+npupqcgC/Mi9xHPz+C490Z2hEUqIG59ErEFYalMWtbyEcj76IzE4prBDdutuevVA1sZpaGt27c/wApTVxRP6/4TSGF1axOxvv/AIQ1WqVHTq2IsCLg89+3+FobkkgSfuyYHbev35BSsdfzCHZVjjf7spqTSdhc7/wgA+m24A7fPn5plh2wT0HxmY2QjKY0QNwJPaePlKKwbT17T3SaGh9gaexHO6s2VOAFxf5JFgbEN5hN5sIsvP1mTZEXZBm1Q6gW8KxZTWDqY1JC5kqei4gQCvIxZtsnKS7BxXgXm9EAEtVepOL57Ky4fDlzbmVPg8hbc9VUsby1tKdCvKceKdipn4kvJhDZnlsP6JaMZoMBH5Z4/j9Ci0nbL7kjIp3KxVzDZi6N1i6oahbVZLkjxFzSIB6DyuJUbrCfuSsWL3QOAJMuvC4D58r/ACCxYgCCbrqofqVixAGgOVyVixAGLgrSxAG1krSxAGErYcsWIAlp1CiqNQwe37hYsSoEE0K1xN7kfGylqYi6xYnQA+IuNQsb/LdDVXyfvusWIA1Nl3UfMRa0fBYsQM1TbfdT0rkA7CQsWIAZUXyY+IT/AAbRYRKxYpYyy5VRn4DzTz+hkbrFi4NSrRLA6+CjlapytLF4WboaGmW4nhMKuMLVixdOKTWK0DF76Tqo3AQ+D9kZdqdUn0WLFeOKlyyZDpvsw3+5bWLF0fhh9Co//9k=");
        this.template.convertAndSend("/topic/greetings", userInfo);
        return userInfo;
    }

    @GetMapping("/api/denied")
    public UserInfo denied() throws Exception {
        UserInfo userInfo = new UserInfo();
        userInfo.setName("DENIED");
        this.template.convertAndSend("/topic/greetings", userInfo);
        return userInfo;
    }


    @PostMapping("/api/user")
    public ResponseEntity<String> post(@RequestBody final UserInfo userInfo) {
        this.template.convertAndSend("/topic/greetings", userInfo);
        return ResponseEntity.ok("Success");
    }
}
